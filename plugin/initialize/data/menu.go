package data

import (
	"ncobase/system/structs"

	"github.com/ncobase/ncore/utils/convert"
)

// SystemDefaultMenus defines the system default menu structure
var SystemDefaultMenus = struct {
	Headers  []structs.MenuBody
	Sidebars []structs.MenuBody
	Submenus []structs.MenuBody
	Accounts []structs.MenuBody
	Tenants  []structs.MenuBody
}{
	Headers: []structs.MenuBody{
		{
			Name:     "Dashboard",
			Label:    "dashboard.navigation",
			Slug:     "dashboard",
			Type:     "header",
			Path:     "/dash",
			Icon:     "IconGauge",
			Perms:    "read:dashboard",
			Order:    convert.ToPointer(99),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
		},
		{
			Name:     "System",
			Label:    "system.navigation",
			Slug:     "system",
			Type:     "header",
			Path:     "/system/group",
			Perms:    "read:system",
			Order:    convert.ToPointer(10),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
		},
		{
			Name:     "Content",
			Label:    "content.navigation",
			Slug:     "content",
			Type:     "header",
			Path:     "/content/topic",
			Perms:    "read:content",
			Order:    convert.ToPointer(98),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
		},
		{
			Name:     "Builder",
			Label:    "builder.navigation",
			Slug:     "builder",
			Type:     "header",
			Path:     "/builder/form",
			Icon:     "IconAtom",
			Perms:    "manage:builder",
			Order:    convert.ToPointer(1),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
		},
		{
			Name:     "Example",
			Label:    "example.navigation",
			Slug:     "example",
			Type:     "header",
			Path:     "/example/card",
			Order:    convert.ToPointer(0),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			// No permission - public access
		},
	},
	Sidebars: []structs.MenuBody{
		// System module sidebars
		{
			Name:     "Tenant",
			Label:    "system.tenant.navigation",
			Slug:     "system-tenant",
			Type:     "sidebar",
			Path:     "/system/tenant",
			Icon:     "IconBuildingCommunity",
			Perms:    "manage:tenant",
			Order:    convert.ToPointer(999),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			ParentID: "system",
		},
		{
			Name:     "Group",
			Label:    "system.group.navigation",
			Slug:     "system-group",
			Type:     "sidebar",
			Path:     "/system/group",
			Icon:     "IconBinaryTree2",
			Perms:    "read:group",
			Order:    convert.ToPointer(990),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			ParentID: "system",
		},
		{
			Name:     "User",
			Label:    "system.user.navigation",
			Slug:     "system-user",
			Type:     "sidebar",
			Path:     "/system/user",
			Icon:     "IconUsers",
			Perms:    "read:user",
			Order:    convert.ToPointer(980),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			ParentID: "system",
		},
		{
			Name:     "Role",
			Label:    "system.role.navigation",
			Slug:     "system-role",
			Type:     "sidebar",
			Path:     "/system/role",
			Icon:     "IconUsersGroup",
			Perms:    "manage:role",
			Order:    convert.ToPointer(970),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			ParentID: "system",
		},
		{
			Name:     "Permission",
			Label:    "system.permission.navigation",
			Slug:     "system-permission",
			Type:     "sidebar",
			Path:     "/system/permission",
			Icon:     "IconLockAccess",
			Perms:    "manage:permission",
			Order:    convert.ToPointer(930),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			ParentID: "system",
		},
		{
			Name:     "Menu",
			Label:    "system.menu.navigation",
			Slug:     "system-menus",
			Type:     "sidebar",
			Path:     "/system/menu",
			Icon:     "IconMenu",
			Perms:    "manage:menu",
			Order:    convert.ToPointer(940),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			ParentID: "system",
		},
		{
			Name:     "Dictionary",
			Label:    "system.dictionary.navigation",
			Slug:     "system-dictionary",
			Type:     "sidebar",
			Path:     "/system/dictionary",
			Icon:     "IconVocabulary",
			Perms:    "read:dictionary",
			Order:    convert.ToPointer(910),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			ParentID: "system",
		},
		{
			Name:     "Basic",
			Label:    "system.basic.navigation",
			Slug:     "system-basic",
			Type:     "sidebar",
			Path:     "/system/basic",
			Icon:     "IconSettings2",
			Target:   "_self",
			Perms:    "manage:system",
			Order:    convert.ToPointer(99),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			ParentID: "system",
		},
		{
			Name:     "divide",
			Type:     "sidebar",
			Path:     "-",
			Order:    convert.ToPointer(920),
			Hidden:   convert.ToPointer(false),
			ParentID: "system",
		},
		{
			Name:     "divide",
			Type:     "sidebar",
			Path:     "-",
			Order:    convert.ToPointer(950),
			Hidden:   convert.ToPointer(false),
			ParentID: "system",
		},

		// Content module sidebars
		{
			Name:     "Topic",
			Label:    "content.topic.navigation",
			Slug:     "content-topic",
			Type:     "sidebar",
			Path:     "/content/topic",
			Icon:     "IconArticle",
			Perms:    "read:content",
			Order:    convert.ToPointer(99),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			ParentID: "content",
		},
		{
			Name:     "Taxonomy",
			Label:    "content.taxonomy.navigation",
			Type:     "sidebar",
			Path:     "/content/taxonomy",
			Icon:     "IconColumns",
			Perms:    "manage:taxonomy",
			Order:    convert.ToPointer(98),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			ParentID: "content",
		},
		{
			Name:     "Comment",
			Label:    "content.comment.navigation",
			Slug:     "content-comment",
			Type:     "sidebar",
			Path:     "/content/comment",
			Icon:     "IconMessage",
			Perms:    "read:comment",
			Order:    convert.ToPointer(96),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			ParentID: "content",
		},
		{
			Name:     "Approval",
			Label:    "content.approval.navigation",
			Type:     "sidebar",
			Path:     "/content/approval",
			Icon:     "IconChecklist",
			Perms:    "manage:approval",
			Order:    convert.ToPointer(95),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			ParentID: "content",
		},
		{
			Name:     "Trash",
			Label:    "content.trash.navigation",
			Slug:     "content-trash",
			Type:     "sidebar",
			Path:     "/content/trash",
			Icon:     "IconTrash",
			Perms:    "manage:content",
			Order:    convert.ToPointer(91),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			ParentID: "content",
		},
		{
			Name:     "Component",
			Label:    "content.component.navigation",
			Slug:     "content-component",
			Type:     "sidebar",
			Path:     "/content/component",
			Icon:     "IconComponents",
			Perms:    "manage:content",
			Order:    convert.ToPointer(93),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			ParentID: "content",
		},
		{
			Name:     "divide",
			Type:     "sidebar",
			Path:     "-",
			Order:    convert.ToPointer(97),
			Hidden:   convert.ToPointer(false),
			ParentID: "content",
		},
		{
			Name:     "divide",
			Type:     "sidebar",
			Path:     "-",
			Order:    convert.ToPointer(94),
			Hidden:   convert.ToPointer(false),
			ParentID: "content",
		},
		{
			Name:     "divide",
			Type:     "sidebar",
			Path:     "-",
			Order:    convert.ToPointer(92),
			Hidden:   convert.ToPointer(false),
			ParentID: "content",
		},

		// Builder module sidebars
		{
			Name:     "Form",
			Label:    "builder.form.navigation",
			Slug:     "builder-form",
			Type:     "sidebar",
			Path:     "/builder/form",
			Icon:     "IconAtom",
			Perms:    "manage:builder",
			Order:    convert.ToPointer(99),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			ParentID: "builder",
		},
		{
			Name:     "Feature",
			Label:    "builder.feature.navigation",
			Slug:     "builder-feature",
			Type:     "sidebar",
			Path:     "/builder/feature",
			Icon:     "IconApps",
			Perms:    "manage:builder",
			Order:    convert.ToPointer(1),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			ParentID: "builder",
		},

		// Example module sidebars (existing preserved, no permissions - public access)
		{
			Name:     "Card",
			Label:    "example.card.navigation",
			Slug:     "example-card",
			Type:     "sidebar",
			Path:     "/example/card",
			Icon:     "IconCards",
			Order:    convert.ToPointer(98),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			ParentID: "example",
		},
		{
			Name:     "List 1",
			Label:    "example.list1.navigation",
			Slug:     "example-list-1",
			Type:     "sidebar",
			Path:     "/example/list-1",
			Icon:     "IconTable",
			Order:    convert.ToPointer(98),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			ParentID: "example",
		},
		{
			Name:     "List 2",
			Label:    "example.list2.navigation",
			Slug:     "example-list-2",
			Type:     "sidebar",
			Path:     "/example/list-2",
			Icon:     "IconTableAlias",
			Order:    convert.ToPointer(98),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			ParentID: "example",
		},
		{
			Name:     "Analyze",
			Label:    "example.analyze.navigation",
			Slug:     "example-analyze",
			Type:     "sidebar",
			Path:     "/example/analyze",
			Icon:     "IconDeviceAnalytics",
			Order:    convert.ToPointer(98),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			ParentID: "example",
		},
		{
			Name:     "Masonry",
			Label:    "example.masonry.navigation",
			Slug:     "example-masonry",
			Type:     "sidebar",
			Path:     "/example/masonry",
			Icon:     "IconLayoutBoard",
			Order:    convert.ToPointer(98),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			ParentID: "example",
		},
		{
			Name:     "UI Elements",
			Label:    "example.ui.navigation",
			Slug:     "example-ui",
			Type:     "sidebar",
			Path:     "/example/ui/elements",
			Icon:     "IconBrandSupernova",
			Order:    convert.ToPointer(98),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			ParentID: "example",
		},
	},
	Submenus: []structs.MenuBody{
		// Card submenus
		{
			Name:     "Model",
			Label:    "example.card.model.navigation",
			Slug:     "submenu-model-group",
			Type:     "submenu",
			Path:     "-",
			Order:    convert.ToPointer(490),
			Hidden:   convert.ToPointer(false),
			ParentID: "example-card",
		},
		{
			Name:     "User",
			Label:    "example.card.model.user.navigation",
			Slug:     "submenu-model-user",
			Type:     "submenu",
			Path:     "/example/card/user",
			Order:    convert.ToPointer(460),
			Hidden:   convert.ToPointer(false),
			ParentID: "example-card",
		},
		{
			Name:     "Role",
			Label:    "example.card.model.role.navigation",
			Slug:     "submenu-model-role",
			Type:     "submenu",
			Path:     "/example/card/role",
			Order:    convert.ToPointer(470),
			Hidden:   convert.ToPointer(false),
			ParentID: "example-card",
		},
		{
			Name:     "Permission",
			Label:    "example.card.model.permission.navigation",
			Slug:     "submenu-model-permission",
			Type:     "submenu",
			Path:     "/example/card/permission",
			Order:    convert.ToPointer(480),
			Hidden:   convert.ToPointer(false),
			ParentID: "example-card",
		},
		{
			Name:     "Component",
			Label:    "example.card.component.navigation",
			Slug:     "submenu-component-group",
			Type:     "submenu",
			Path:     "-",
			Order:    convert.ToPointer(390),
			Hidden:   convert.ToPointer(false),
			ParentID: "example-card",
		},
		{
			Name:     "Element",
			Label:    "example.card.component.element.navigation",
			Slug:     "submenu-component-element",
			Type:     "submenu",
			Path:     "/example/card/element",
			Order:    convert.ToPointer(350),
			Hidden:   convert.ToPointer(false),
			ParentID: "example-card",
		},
		{
			Name:     "Form",
			Label:    "example.card.component.form.navigation",
			Slug:     "submenu-component-form",
			Type:     "submenu",
			Path:     "/example/card/form",
			Order:    convert.ToPointer(360),
			Hidden:   convert.ToPointer(false),
			ParentID: "example-card",
		},
		{
			Name:     "Layout",
			Label:    "example.card.component.layout.navigation",
			Slug:     "submenu-component-layout",
			Type:     "submenu",
			Path:     "/example/card/layout",
			Order:    convert.ToPointer(370),
			Hidden:   convert.ToPointer(false),
			ParentID: "example-card",
		},
		{
			Name:     "Template",
			Label:    "example.card.component.template.navigation",
			Slug:     "submenu-component-template",
			Type:     "submenu",
			Path:     "/example/card/template",
			Order:    convert.ToPointer(380),
			Hidden:   convert.ToPointer(false),
			ParentID: "example-card",
		},
		{
			Name:     "Efficiency",
			Label:    "example.card.efficiency.navigation",
			Slug:     "submenu-efficiency-group",
			Type:     "submenu",
			Path:     "-",
			Order:    convert.ToPointer(290),
			Hidden:   convert.ToPointer(false),
			ParentID: "example-card",
		},
		{
			Name:     "Workflow",
			Label:    "example.card.efficiency.workflow.navigation",
			Slug:     "submenu-efficiency-workflow",
			Type:     "submenu",
			Path:     "/example/card/workflow",
			Order:    convert.ToPointer(250),
			Hidden:   convert.ToPointer(false),
			ParentID: "example-card",
		},
		{
			Name:     "Task",
			Label:    "example.card.efficiency.task.navigation",
			Slug:     "submenu-efficiency-task",
			Type:     "submenu",
			Path:     "/example/card/task",
			Order:    convert.ToPointer(260),
			Hidden:   convert.ToPointer(false),
			ParentID: "example-card",
		},
		{
			Name:     "Report",
			Label:    "example.card.efficiency.report.navigation",
			Slug:     "submenu-efficiency-report",
			Type:     "submenu",
			Path:     "/example/card/report",
			Order:    convert.ToPointer(270),
			Hidden:   convert.ToPointer(false),
			ParentID: "example-card",
		},
		{
			Name:     "Log",
			Label:    "example.card.efficiency.log.navigation",
			Slug:     "submenu-efficiency-log",
			Type:     "submenu",
			Path:     "/example/card/log",
			Order:    convert.ToPointer(280),
			Hidden:   convert.ToPointer(false),
			ParentID: "example-card",
		},
		// System settings submenu
		{
			Name:     "System",
			Label:    "system.basic.setting.navigation",
			Slug:     "submenu-system-setting",
			Type:     "submenu",
			Path:     "/system/basic",
			Perms:    "manage:system",
			Order:    convert.ToPointer(470),
			Hidden:   convert.ToPointer(false),
			ParentID: "system-basic",
		},
		{
			Name:     "User List",
			Label:    "system.user.list.navigation",
			Slug:     "submenu-user-list",
			Type:     "submenu",
			Path:     "/system/user/list",
			Perms:    "read:user",
			Order:    convert.ToPointer(450),
			Hidden:   convert.ToPointer(false),
			ParentID: "system-user",
		},
		{
			Name:     "User Create",
			Label:    "system.user.create.navigation",
			Slug:     "submenu-user-create",
			Type:     "submenu",
			Path:     "/system/user/create",
			Perms:    "create:user",
			Order:    convert.ToPointer(440),
			Hidden:   convert.ToPointer(false),
			ParentID: "system-user",
		},
	},
	Accounts: []structs.MenuBody{
		{
			Name:     "Profile",
			Label:    "dropdowns.account.profile.label",
			Slug:     "account-profile",
			Type:     "account",
			Path:     "/account/profile",
			Icon:     "IconUser",
			Order:    convert.ToPointer(99),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			// No permission - all users can access profile
		},
		{
			Name:     "Settings",
			Label:    "dropdowns.account.settings.label",
			Slug:     "account-settings",
			Type:     "account",
			Path:     "/account/settings",
			Icon:     "IconSettings",
			Perms:    "manage:account",
			Order:    convert.ToPointer(90),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
		},
		{
			Name:     "Logout",
			Label:    "dropdowns.account.logout.label",
			Slug:     "account-logout",
			Type:     "account",
			Path:     "/logout",
			Icon:     "IconLogout",
			Order:    convert.ToPointer(0),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			// No permission - all users can logout
		},
	},
	Tenants: []structs.MenuBody{
		{
			Name:   "Tenant",
			Slug:   "tenant-dropdown-menu-label",
			Type:   "tenant",
			Path:   "-",
			Order:  convert.ToPointer(100),
			Hidden: convert.ToPointer(false),
		},
		{
			Name:     "Switch Tenant",
			Label:    "dropdowns.tenant.switch.label",
			Slug:     "tenant-switch",
			Type:     "tenant",
			Icon:     "IconSwitch",
			Order:    convert.ToPointer(99),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
			// No permission - users with multiple tenants can switch
		},
		{
			Name:     "Manage Tenant",
			Label:    "dropdowns.tenant.manage.label",
			Slug:     "tenant-manage",
			Type:     "tenant",
			Path:     "/system/tenant",
			Icon:     "IconBuildingCommunity",
			Perms:    "manage:tenant",
			Order:    convert.ToPointer(90),
			Hidden:   convert.ToPointer(false),
			Disabled: convert.ToPointer(false),
		},
	},
}

// MenuPermissionMapping defines permission mappings for automatic assignment
var MenuPermissionMapping = map[string][]string{
	// System permissions
	"read:system":    {"read:user", "read:group", "read:menu", "read:dictionary"},
	"manage:system":  {"manage:menu", "manage:dictionary", "manage:tenant", "manage:permission"},
	"read:dashboard": {"read:statistics", "read:analytics"},

	// User management permissions
	"read:user":   {"read:employee", "read:profile"},
	"manage:user": {"create:user", "update:user", "delete:user"},
	"create:user": {"read:user"},
	"update:user": {"read:user"},
	"delete:user": {"read:user"},

	// Content permissions
	"read:content":    {"read:topic", "read:comment"},
	"manage:content":  {"create:content", "update:content", "delete:content"},
	"manage:approval": {"read:content", "update:content"},

	// Role and permission management
	"manage:role":       {"read:role", "create:role", "update:role", "delete:role"},
	"manage:permission": {"read:permission", "create:permission", "update:permission", "delete:permission"},

	// Builder permissions
	"manage:builder": {"create:form", "update:form", "delete:form", "read:feature"},

	// Tenant permissions
	"manage:tenant": {"read:tenant", "create:tenant", "update:tenant", "delete:tenant"},
}
